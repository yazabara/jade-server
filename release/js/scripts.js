function Point(a,b,c,d){this.x=a||0,this.y=b||0,this.z=c||0,this.color=d||"black"}function getCoordinatesFromEvent(a){var b=$(a.target).offset(),c=a.pageX-b.left,d=a.pageY-b.top;return new Point(c,d)}function translate(a,b,c,d){return new Point(a.x+b,a.y+c,a.z+d)}function rotateX(a,b){return new Point(a.x,a.y*Math.cos(b)-a.z*Math.sin(b),a.y*Math.sin(b)+a.z*Math.cos(b))}function rotateY(a,b){return new Point(a.z*Math.sin(b)+a.x*Math.cos(b),a.y,a.z*Math.cos(b)-a.x*Math.sin(b))}function rotateZ(a,b){return new Point(a.x*Math.cos(b)-a.y*Math.sin(b),a.x*Math.sin(b)+a.y*Math.cos(b),a.z)}function rotateAroundEachAxis(a,b,c){var d=translate(a,-b.x,-b.y,-b.z),e=rotateZ(rotateY(rotateX(d,c),c),c),f=translate(e,+b.x,+b.y,+b.z);return f}$(function(){$(".nyan-cat").on("click",function(){eval("javascript:var a,b,c=['https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js','http://nyan.alternative.ly/css-transform.js','http://nyan.alternative.ly/jquery-rotate.js','http://nyan.alternative.ly/nyan.js'];for(a=0;a!=c.length;a++){b=document.createElement('script');b.src=c[a];document.body.appendChild(b);}void(0);"),$(".nyan-cat").hide()})}),Point.prototype.draw=function(a){a.save(),a.fillStyle=this.color,a.beginPath(),a.arc(this.x,this.y,5,0,2*Math.PI,!1),a.closePath(),a.fill(),a.restore()},$(function(){var a=document.getElementById("canvas");if(a){var b=a.getContext("2d"),c="black",d=0,e=new Point(a.height/4,a.width/4,100),f=100,g=f/2,h=[new Point(e.x,e.y+g,e.z),new Point(e.x,e.y,e.z+g),new Point(e.x+g,e.y,e.z),new Point(e.x,e.y,e.z-g),new Point(e.x-g,e.y,e.z),new Point(e.x,e.y-g,e.z)];window.setInterval(function(){b.clearRect(0,0,a.width,a.height);for(var f=h.map(function(a){return rotateAroundEachAxis(a,e,d)}),g=[[f[0],f[1]],[f[0],f[2]],[f[0],f[3]],[f[0],f[4]],[f[1],f[2]],[f[2],f[3]],[f[3],f[4]],[f[4],f[1]],[f[5],f[1]],[f[5],f[2]],[f[5],f[3]],[f[5],f[4]]],i=0;i<g.length;i++){var j=g[i],k=j[0],l=j[1];b.beginPath(),b.moveTo(k.x,k.y),b.lineTo(l.x,l.y),b.closePath(),b.strokeStyle=c,b.stroke()}d+=Math.PI/300},50)}});